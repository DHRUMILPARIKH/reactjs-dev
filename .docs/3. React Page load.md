- createRoot lets you create a root to display React components inside a browser DOM node [1].

    Step 1: Create refrance of DOM by get element by id. Below which is root.
    ```
        public/index.html
        ...
        <div id='root' />
        ...

        index.js
        import { createRoot } from "react-dom/client";

        const domNode = document.getElementById("root");
    ```
    Step 2: Create React dom with above root node. React will control DOM management of domNode.
    ```
        const root = createRoot(domNode);
    ``` 
    Step 3: To map component ( App level component ) with DOM and to display we have to attach them both
    ```
        App.js
        ...
        return (<h1>Welcome to React app.</h1>)
        ...
        
        index.js
        ...
        root.render(<App />);
        ...
    ```

root.unmount(): This is mostly useful if your React root’s DOM node may get removed from the DOM by some other code for clean up and free up global resources like subscriptions

Warning/caveat: 
- If your app is server-rendered, using createRoot() is not supported. Use hydrateRoot() instead.
- When you want to render a piece of JSX in a different part of the DOM tree that isn’t a child of your component (for example, a modal or a tooltip), use createPortal [2] instead of createRoot.


Note [3]: When your HTML is empty, the user sees a blank page until the app’s JavaScript code loads and runs.
This can feel very slow! To solve this, you can generate the initial HTML from your components on the server or during the build[4]. Depending on when it runs, this is called server-side rendering (SSR) or static site generation (SSG).

Question 1 : How to create HTML for component during build time ?
Answer: react-dom/server 
       - The react-dom/server APIs let you render React components to HTML on the server. These APIs are only used on the server at the top level of your app to generate the initial HTML. A framework may call them for you. Most of your components don’t need to import or use them.[4]

Question 2 : What is Hydrate in react ? Diff of hydrateRoot vs createRoot ?
Answer: hydrateRoot lets you display React components inside a browser DOM node whose HTML content was previously generated by react-dom/server.
    -   To hydrate your app, React will “attach” your components’ logic to the initial generated HTML from the server. Hydration turns the initial HTML snapshot from the server into a fully interactive app that runs in the browser.
    -   Apps using server rendering or static generation must call hydrateRoot instead of createRoot. React will then hydrate (reuse) the DOM nodes from your HTML instead of destroying and re-creating them.

- Example 1: Hydrating server-rendered HTML [6]

   
- Example 2: Handling different client and server content[7]
    Live example: https://82r946.csb.app/ 
    Pitfall: This approach makes hydration slower because your components have to render twice. Be mindful of the user experience on slow connections. The JavaScript code may load significantly later than the initial HTML render, so rendering a different UI immediately after hydration may also feel jarring to the user.

- Example 3:Updating a hydrated root component[8]
    root.render is use to update hydrated root component. 
    It is uncommon to call root.render on a hydrated root. Usually, you’ll update state inside one of the components instead.
    React will preserve state of component tree, by matches up with previous rendered.
    What is actuall application of root.render ?

Resources:
[1]: https://react.dev/reference/react-dom/client/createRoot
[2]: https://react.dev/reference/react-dom/createPortal
[3]: https://react.dev/reference/react-dom/client/createRoot#rendering-an-app-fully-built-with-react
[4]: https://react.dev/reference/react-dom/server
[5]: https://react.dev/reference/react-dom/client/hydrateRoot
[6]: https://react.dev/reference/react-dom/client/hydrateRoot#hydrating-server-rendered-html
[7]: https://react.dev/reference/react-dom/client/hydrateRoot#handling-different-client-and-server-content
[8]: https://react.dev/reference/react-dom/client/hydrateRoot#updating-a-hydrated-root-component